<md-dialog aria-label="Opdatér grupper i projekt" class="pd-create-site-diag">
    <form name="membersForm" ng-submit="updatePDSiteGroups()" class="pd-site-create-form">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Tilføj og fjern medlemmer</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="cancel()">
                    <i class="material-icons" aria-label="Luk dialogboks">close</i>
                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content>
            <md-content class="md-padding" layout="column">
                <div class="toolbar-small">Projektgruppe</div>
                <md-chips ng-model="groups['PD_PROJECTGROUP']"
                          md-autocomplete-snap
                          md-require-match="true"
                          md-on-remove="removeMember($chip, 'PD_PROJECTGROUP')"
                          md-on-add="addMember($chip, 'PD_PROJECTGROUP')">
                    <md-autocomplete md-selected-item="selectedProjGrpItem"
                                     md-search-text="srchprjgrptxt"
                                     md-items="pgitem in searchPeople(srchprjgrptxt)"
                                     md-item-text="pgitem.firstName"
                                     placeholder="Angiv et medlem">
                        <span md-highlight-text="srchprjgrptxt">{{ pgitem.firstName }} {{ pgitem.lastName }}</span>
                    </md-autocomplete>
                    <md-chip-template>
                        <span>
                            <!--<span ng-if="$chip.displayName">{{ $chip.displayName }}</span>-->
                            <span ng-if="$chip.firstName">{{ $chip.firstName }} {{ $chip.lastName }}</span>
                        </span>
                    </md-chip-template>
                </md-chips>
				<div style="font-weight: bold; font-size: 90%; padding: 15px;">Tilføj eksterne medlemmer</div>
				<div style="padding-left: 15px;" layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
						<label>Fornavn</label>
						<input type="text" name="pgxfirstname" ng-model="pgxfirstname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Efternavn</label>
						<input type="text" name="pgxlastname" ng-model="pgxlastname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Email</label>
						<input type="email" name="pgxemail" ng-model="pgxemail" ng-pattern="/^.+@.+\..+$/">
						 <div ng-messages="membersForm.pgxemail.$error" role="alert">
						  <div ng-message-exp="['pattern']">
							Du skal indtaste en gyldig e-mail adresse.
						  </div>
						</div>
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<div style="position: relative; top: -25px;" class="btnAlign">
					     <md-button class="md-raised"
									ng-click="addExternalUserToGroup (pgxfirstname, pgxlastname, pgxemail, 'PD_PROJECTGROUP')">
							Tilføj
						 </md-button>
					</div>
				</div>
					<div class="toolbar-small">Styregruppe</div>
                    <md-chips ng-model="groups['PD_STEERING_GROUP']"
                              md-autocomplete-snap
                              md-require-match="true"
                              md-on-remove="removeMember($chip, 'PD_STEERING_GROUP')"
                              md-on-add="addMember($chip, 'PD_STEERING_GROUP')">
                        <md-autocomplete md-selected-item="selectedStyreGrpItem"
                                         md-search-text="srchstrgrptxt"
                                         md-items="sgitem in searchPeople(srchstrgrptxt)"
                                         md-item-text="sgitem.firstName"
                                         placeholder="Angiv et medlem">
                            <span md-highlight-text="srchstrgrptxt">{{ sgitem.firstName }} {{ sgitem.lastName }}</span>
                        </md-autocomplete>
                        <md-chip-template>
                            <span>
                                <!--<span ng-if="$chip.displayName">{{ $chip.displayName }}</span>-->
                                <span ng-if="$chip.firstName">{{ $chip.firstName }} {{ $chip.lastName }}</span>
                            </span>
                        </md-chip-template>
                    </md-chips>
				<div style="font-weight: bold; font-size: 90%; padding: 15px;">Tilføj eksterne medlemmer</div>
				<div style="padding-left: 15px;" layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
						<label>Fornavn</label>
						<input type="text" name="stxfirstname" ng-model="stxfirstname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Efternavn</label>
						<input type="text" name="stxlastname" ng-model="stxlastname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Email</label>
						<input type="email" name="stxemail" ng-model="stxemail">
						<div ng-messages="membersForm.stxemail.$error" role="alert">
						  <div ng-message-exp="['pattern']">
							Du skal indtaste en gyldig e-mail adresse.
						  </div>
						</div>
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<div style="position: relative; top: -25px;" class="btnAlign">
					     <md-button class="md-raised"
									ng-click="addExternalUserToGroup (stxfirstname, stxlastname, stxemail, 'PD_STEERING_GROUP')">
							Tilføj
						 </md-button>
					</div>
				</div>
					<div class="toolbar-small">Arbejdsgruppe</div>
                    <md-chips ng-model="groups['PD_WORKGROUP']"
                              md-autocomplete-snap
                              md-require-match="true"
                              md-on-remove="removeMember($chip, 'PD_WORKGROUP')"
                              md-on-add="addMember($chip, 'PD_WORKGROUP')">
                        <md-autocomplete md-selected-item="selectedArbejdsGrpItem"
                                         md-search-text="srchrbjdgrptxt"
                                         md-items="agitem in searchPeople(srchrbjdgrptxt)"
                                         md-item-text="agitem.firstName"
                                         placeholder="Angiv et medlem">
                            <span md-highlight-text="srchrbjdgrptxt">{{ agitem.firstName }} {{ agitem.lastName }}</span>
                        </md-autocomplete>
                        <md-chip-template>
                            <span>
                                <!--<span ng-if="$chip.displayName">{{ $chip.displayName }}</span>-->
                                <span ng-if="$chip.firstName">{{ $chip.firstName }} {{ $chip.lastName }}</span>
                            </span>
                        </md-chip-template>
                    </md-chips>
				<div style="font-weight: bold; font-size: 90%; padding: 15px;">Tilføj eksterne medlemmer</div>
				<div style="padding-left: 15px;" layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
						<label>Fornavn</label>
						<input type="text" name="arbxfirstname" ng-model="arbxfirstname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Efternavn</label>
						<input type="text" name="arbxlastname" ng-model="arbxlastname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Email</label>
						<input type="email" name="arbxemail" ng-model="arbxemail">
						<div ng-messages="membersForm.arbxemail.$error" role="alert">
						  <div ng-message-exp="['pattern']">
							Du skal indtaste en gyldig e-mail adresse.
						  </div>
						</div>
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<div style="position: relative; top: -25px;" class="btnAlign">
					     <md-button class="md-raised"
									ng-click="addExternalUserToGroup (arbxfirstname, arbxlastname, arbxemail, 'PD_WORKGROUP')">
							Tilføj
						 </md-button>
					</div>
				</div>
					<div class="toolbar-small">Følgegruppe</div>
                    <md-chips ng-model="groups['PD_MONITORS']"
                              md-autocomplete-snap
                              md-require-match="true"
                              md-on-remove="removeMember($chip, 'PD_MONITORS')"
                              md-on-add="addMember($chip, 'PD_MONITORS')">
                        <md-autocomplete md-selected-item="selectedFolgeGrpItem"
                                         md-search-text="srchflggrptxt"
                                         md-items="fgitem in searchPeople(srchflggrptxt)"
                                         md-item-text="fgitem.firstName"
                                         placeholder="Angiv et medlem">
                            <span md-highlight-text="srchflggrptxt">{{ fgitem.firstName }} {{ fgitem.lastName }}</span>
                        </md-autocomplete>
                        <md-chip-template>
                            <span>
                                <!--<span ng-if="$chip.displayName">{{ $chip.displayName }}</span>-->
                                <span ng-if="$chip.firstName">{{ $chip.firstName }} {{ $chip.lastName }}</span>
                            </span>
                        </md-chip-template>
                    </md-chips>
				<div style="font-weight: bold; font-size: 90%; padding: 15px;">Tilføj eksterne medlemmer</div>
				<div style="padding-left: 15px;" layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
						<label>Fornavn</label>
						<input type="text" name="flgxfirstname" ng-model="flgxfirstname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Efternavn</label>
						<input type="text" name="flgxlastname" ng-model="flgxlastname">
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<md-input-container class="md-block" flex-gt-sm>
						<label>Email</label>
						<input type="email" name="flgxemail" ng-model="flgxemail">
						<div ng-messages="membersForm.flgxemail.$error" role="alert">
						  <div ng-message-exp="['pattern']">
							Du skal indtaste en gyldig e-mail adresse.
						  </div>
						</div>
					</md-input-container>
					<div flex="5" hide-xs hide-sm><!-- Spacer //--></div>
					<div style="position: relative; top: -25px;" class="btnAlign">
					     <md-button class="md-raised"
									ng-click="addExternalUserToGroup (flgxfirstname, flgxlastname, flgxemail, 'PD_MONITORS')">
							Tilføj
						 </md-button>
					</div>
				</div>
            </md-content>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <!--<md-button ng-click="cancel()">
                Annullér
            </md-button>-->
            <span flex></span>
            <input type="submit" class="md-button md-raised md-primary" value="Opdatér">
        </md-dialog-actions>

    </form>
</md-dialog>